{
  "version": 3,
  "sources": ["../../@webcomponents/shadycss/src/style-settings.js", "../../@webcomponents/shadycss/src/common-regex.js", "../../@webcomponents/shadycss/src/common-utils.js", "../../@webcomponents/shadycss/src/document-wait.js", "../../@webcomponents/shadycss/src/custom-style-interface.js"],
  "sourcesContent": ["/**\n@license\nCopyright (c) 2017 The Polymer Project Authors. All rights reserved.\nThis code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt\nThe complete set of authors may be found at http://polymer.github.io/AUTHORS.txt\nThe complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt\nCode distributed by Google as part of the polymer project is also\nsubject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt\n*/\n\n'use strict';\n\nexport const nativeShadow = !(\n  window['ShadyDOM'] && window['ShadyDOM']['inUse']\n);\nlet nativeCssVariables_;\n\n/**\n * @param {(ShadyCSSOptions | ShadyCSSInterface)=} settings\n */\nfunction calcCssVariables(settings) {\n  if (settings && settings['shimcssproperties']) {\n    nativeCssVariables_ = false;\n  } else {\n    // chrome 49 has semi-working css vars, check if box-shadow works\n    // safari 9.1 has a recalc bug: https://bugs.webkit.org/show_bug.cgi?id=155782\n    // However, shim css custom properties are only supported with ShadyDOM enabled,\n    // so fall back on native if we do not detect ShadyDOM\n    // Edge 15: custom properties used in ::before and ::after will also be used in the parent element\n    // https://developer.microsoft.com/en-us/microsoft-edge/platform/issues/12414257/\n    nativeCssVariables_ =\n      nativeShadow ||\n      Boolean(\n        !navigator.userAgent.match(/AppleWebKit\\/601|Edge\\/15/) &&\n          window.CSS &&\n          CSS.supports &&\n          CSS.supports('box-shadow', '0 0 0 var(--foo)')\n      );\n  }\n}\n\n/** @type {string | undefined} */\nexport let cssBuild;\nif (window.ShadyCSS && window.ShadyCSS.cssBuild !== undefined) {\n  cssBuild = window.ShadyCSS.cssBuild;\n}\n\n/** @type {boolean} */\nexport const disableRuntime = Boolean(\n  window.ShadyCSS && window.ShadyCSS.disableRuntime\n);\n\nif (window.ShadyCSS && window.ShadyCSS.nativeCss !== undefined) {\n  nativeCssVariables_ = window.ShadyCSS.nativeCss;\n} else if (window.ShadyCSS) {\n  calcCssVariables(window.ShadyCSS);\n  // reset window variable to let ShadyCSS API take its place\n  window.ShadyCSS = undefined;\n} else {\n  calcCssVariables(window['WebComponents'] && window['WebComponents']['flags']);\n}\n\n// Hack for type error under new type inference which doesn't like that\n// nativeCssVariables is updated in a function and assigns the type\n// `function(): ?` instead of `boolean`.\nexport const nativeCssVariables = /** @type {boolean} */ (nativeCssVariables_);\n", "/**\n@license\nCopyright (c) 2017 The Polymer Project Authors. All rights reserved.\nThis code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt\nThe complete set of authors may be found at http://polymer.github.io/AUTHORS.txt\nThe complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt\nCode distributed by Google as part of the polymer project is also\nsubject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt\n*/\n\nexport const VAR_ASSIGN = /(?:^|[;\\s{]\\s*)(--[\\w-]*?)\\s*:\\s*(?:((?:'(?:\\\\'|.)*?'|\"(?:\\\\\"|.)*?\"|\\([^)]*?\\)|[^};{])+)|\\{([^}]*)\\}(?:(?=[;\\s}])|$))/gi;\nexport const MIXIN_MATCH = /(?:^|\\W+)@apply\\s*\\(?([^);\\n]*)\\)?/gi;\nexport const VAR_CONSUMED = /(--[\\w-]+)\\s*([:,;)]|$)/gi;\nexport const ANIMATION_MATCH = /(animation\\s*:)|(animation-name\\s*:)/;\nexport const MEDIA_MATCH = /@media\\s(.*)/;\nexport const IS_VAR = /^--/;\nexport const BRACKETED = /\\{[^}]*\\}/g;\nexport const HOST_PREFIX = '(?:^|[^.#[:])';\nexport const HOST_SUFFIX = '($|[.:[\\\\s>+~])';\n", "/**\n@license\nCopyright (c) 2017 The Polymer Project Authors. All rights reserved.\nThis code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt\nThe complete set of authors may be found at http://polymer.github.io/AUTHORS.txt\nThe complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt\nCode distributed by Google as part of the polymer project is also\nsubject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt\n*/\n\n'use strict';\n\nimport {MIXIN_MATCH, VAR_ASSIGN} from './common-regex.js';\n\n/**\n * @param {Element} element\n * @param {Object=} properties\n */\nexport function updateNativeProperties(element, properties) {\n  // remove previous properties\n  for (let p in properties) {\n    // NOTE: for bc with shim, don't apply null values.\n    if (p === null) {\n      element.style.removeProperty(p);\n    } else {\n      element.style.setProperty(p, properties[p]);\n    }\n  }\n}\n\n/**\n * @param {Element} element\n * @param {string} property\n * @return {string}\n */\nexport function getComputedStyleValue(element, property) {\n  /**\n   * @const {string}\n   */\n  const value = window.getComputedStyle(element).getPropertyValue(property);\n  if (!value) {\n    return '';\n  } else {\n    return value.trim();\n  }\n}\n\n/**\n * return true if `cssText` contains a mixin definition or consumption\n * @param {string} cssText\n * @return {boolean}\n */\nexport function detectMixin(cssText) {\n  const has = MIXIN_MATCH.test(cssText) || VAR_ASSIGN.test(cssText);\n  // reset state of the regexes\n  MIXIN_MATCH.lastIndex = 0;\n  VAR_ASSIGN.lastIndex = 0;\n  return has;\n}\n", "/**\n@license\nCopyright (c) 2017 The Polymer Project Authors. All rights reserved.\nThis code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt\nThe complete set of authors may be found at http://polymer.github.io/AUTHORS.txt\nThe complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt\nCode distributed by Google as part of the polymer project is also\nsubject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt\n*/\n\n'use strict';\n\n/** @type {Promise<void>} */\nlet readyPromise = null;\n\n/** @type {?function(?function())} */\nlet whenReady =\n  (window['HTMLImports'] && window['HTMLImports']['whenReady']) || null;\n\n/** @type {function()} */\nlet resolveFn;\n\n/**\n * @param {?function()} callback\n */\nexport default function documentWait(callback) {\n  requestAnimationFrame(function () {\n    if (whenReady) {\n      whenReady(callback);\n    } else {\n      if (!readyPromise) {\n        readyPromise = new Promise((resolve) => {\n          resolveFn = resolve;\n        });\n        if (document.readyState === 'complete') {\n          resolveFn();\n        } else {\n          document.addEventListener('readystatechange', () => {\n            if (document.readyState === 'complete') {\n              resolveFn();\n            }\n          });\n        }\n      }\n      readyPromise.then(function () {\n        callback && callback();\n      });\n    }\n  });\n}\n", "/**\n@license\nCopyright (c) 2017 The Polymer Project Authors. All rights reserved.\nThis code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt\nThe complete set of authors may be found at http://polymer.github.io/AUTHORS.txt\nThe complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt\nCode distributed by Google as part of the polymer project is also\nsubject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt\n*/\n\n'use strict';\n\nimport documentWait from './document-wait.js';\n\n/**\n * @typedef {HTMLStyleElement | {getStyle: function():HTMLStyleElement}}\n */\nexport let CustomStyleProvider;\n\nconst SEEN_MARKER = '__seenByShadyCSS';\nconst CACHED_STYLE = '__shadyCSSCachedStyle';\n\n/** @type {?function(!HTMLStyleElement)} */\nlet transformFn = null;\n\n/** @type {?function()} */\nlet validateFn = null;\n\n/**\nThis interface is provided to add document-level <style> elements to ShadyCSS for processing.\nThese styles must be processed by ShadyCSS to simulate ShadowRoot upper-bound encapsulation from outside styles\nIn addition, these styles may also need to be processed for @apply rules and CSS Custom Properties\n\nTo add document-level styles to ShadyCSS, one can call `ShadyCSS.addDocumentStyle(styleElement)` or `ShadyCSS.addDocumentStyle({getStyle: () => styleElement})`\n\nIn addition, if the process used to discover document-level styles can be synchronously flushed, one should set `ShadyCSS.documentStyleFlush`.\nThis function will be called when calculating styles.\n\nAn example usage of the document-level styling api can be found in `examples/document-style-lib.js`\n\n@unrestricted\n*/\nexport default class CustomStyleInterface {\n  constructor() {\n    /** @type {!Array<!CustomStyleProvider>} */\n    this['customStyles'] = [];\n    this['enqueued'] = false;\n    // NOTE(dfreedm): use quotes here to prevent closure inlining to `function(){}`;\n    documentWait(() => {\n      if (window['ShadyCSS']['flushCustomStyles']) {\n        window['ShadyCSS']['flushCustomStyles']();\n      }\n    });\n  }\n  /**\n   * Queue a validation for new custom styles to batch style recalculations\n   */\n  enqueueDocumentValidation() {\n    if (this['enqueued'] || !validateFn) {\n      return;\n    }\n    this['enqueued'] = true;\n    documentWait(validateFn);\n  }\n  /**\n   * @param {!HTMLStyleElement} style\n   */\n  addCustomStyle(style) {\n    if (!style[SEEN_MARKER]) {\n      style[SEEN_MARKER] = true;\n      this['customStyles'].push(style);\n      this.enqueueDocumentValidation();\n    }\n  }\n  /**\n   * @param {!CustomStyleProvider} customStyle\n   * @return {HTMLStyleElement}\n   */\n  getStyleForCustomStyle(customStyle) {\n    if (customStyle[CACHED_STYLE]) {\n      return customStyle[CACHED_STYLE];\n    }\n    let style;\n    if (customStyle['getStyle']) {\n      style = customStyle['getStyle']();\n    } else {\n      style = customStyle;\n    }\n    return style;\n  }\n  /**\n   * @return {!Array<!CustomStyleProvider>}\n   */\n  processStyles() {\n    const cs = this['customStyles'];\n    for (let i = 0; i < cs.length; i++) {\n      const customStyle = cs[i];\n      if (customStyle[CACHED_STYLE]) {\n        continue;\n      }\n      const style = this.getStyleForCustomStyle(customStyle);\n      if (style) {\n        // HTMLImports polyfill may have cloned the style into the main document,\n        // which is referenced with __appliedElement.\n        const styleToTransform = /** @type {!HTMLStyleElement} */ (style[\n          '__appliedElement'\n        ] || style);\n        if (transformFn) {\n          transformFn(styleToTransform);\n        }\n        customStyle[CACHED_STYLE] = styleToTransform;\n      }\n    }\n    return cs;\n  }\n}\n\n/* eslint-disable no-self-assign */\nCustomStyleInterface.prototype['addCustomStyle'] =\n  CustomStyleInterface.prototype.addCustomStyle;\nCustomStyleInterface.prototype['getStyleForCustomStyle'] =\n  CustomStyleInterface.prototype.getStyleForCustomStyle;\nCustomStyleInterface.prototype['processStyles'] =\n  CustomStyleInterface.prototype.processStyles;\n/* eslint-enable no-self-assign */\n\nObject.defineProperties(CustomStyleInterface.prototype, {\n  'transformCallback': {\n    /** @return {?function(!HTMLStyleElement)} */\n    get() {\n      return transformFn;\n    },\n    /** @param {?function(!HTMLStyleElement)} fn */\n    set(fn) {\n      transformFn = fn;\n    },\n  },\n  'validateCallback': {\n    /** @return {?function()} */\n    get() {\n      return validateFn;\n    },\n    /**\n     * @param {?function()} fn\n     * @this {CustomStyleInterface}\n     */\n    set(fn) {\n      let needsEnqueue = false;\n      if (!validateFn) {\n        needsEnqueue = true;\n      }\n      validateFn = fn;\n      if (needsEnqueue) {\n        this.enqueueDocumentValidation();\n      }\n    },\n  },\n});\n\n/** @typedef {{\n * customStyles: !Array<!CustomStyleProvider>,\n * addCustomStyle: function(!CustomStyleProvider),\n * getStyleForCustomStyle: function(!CustomStyleProvider): HTMLStyleElement,\n * findStyles: function(),\n * transformCallback: ?function(!HTMLStyleElement),\n * validateCallback: ?function()\n * }}\n */\nexport const CustomStyleInterfaceInterface = {};\n"],
  "mappings": "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",
  "names": []
}
